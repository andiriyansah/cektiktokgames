<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Rahasia Random ‚Äî Minimal Card</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg1: #fdfbff;
        --card: #ffffff;
        --text: #1c1c1f;
        --muted: #5e6167;
        --accent: #7c5cff;
        --btn: #3bcf91;
        --btn-hover: #32b47e;
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto,
          Ubuntu, "Helvetica Neue", Arial, sans-serif;
        color: var(--text);
        background: radial-gradient(
            1200px 800px at 20% -10%,
            #e8f0ff 0%,
            transparent 50%
          ),
          radial-gradient(
            1000px 700px at 120% 110%,
            #ffe9f7 0%,
            transparent 50%
          ),
          var(--bg1);
        overflow: hidden; /* biar clean saat fullscreen */
      }

      /* Background animated squares */
      .bg-canvas {
        position: fixed;
        inset: 0;
        overflow: hidden;
        z-index: -1;
        pointer-events: none;
      }
      .float-square {
        position: absolute;
        border-radius: 20px;
        background: rgba(255, 255, 255, 0.25);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06) inset;
        animation: drift var(--dur) linear infinite;
        will-change: transform, opacity;
        mix-blend-mode: soft-light;
      }
      @keyframes drift {
        0% {
          transform: translate3d(var(--x), 110vh, 0) rotate(0.01turn);
          opacity: 0;
        }
        10% {
          opacity: 0.7;
        }
        90% {
          opacity: 0.7;
        }
        100% {
          transform: translate3d(calc(var(--x) + var(--dx)), -20vh, 0)
            rotate(0.21turn);
          opacity: 0;
        }
      }

      /* Layout */
      .wrap {
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: 32px 16px 24px;
      }
      header {
        text-align: center;
        margin-bottom: 16px;
      }
      header h1 {
        font-size: 22px;
        margin: 0 0 6px;
        letter-spacing: 0.3px;
        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.6);
      }
      header p {
        margin: 0;
        color: var(--muted);
        font-size: 13px;
      }

      /* Form */
      .form {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        align-items: center;
        justify-content: center;
        margin-top: 12px;
      }
      input[type="text"] {
        width: min(68vw, 320px);
        padding: 12px 14px;
        border-radius: 12px;
        border: 1px solid #dadde3;
        outline: none;
        font-size: 16px;
        text-align: center;
        background: #fff9;
        backdrop-filter: blur(4px);
      }
      button {
        padding: 12px 16px;
        border-radius: 12px;
        border: none;
        color: white;
        background: var(--btn);
        font-weight: 700;
        letter-spacing: 0.3px;
        cursor: pointer;
        transition: transform 0.06s ease, background 0.2s ease,
          box-shadow 0.2s ease;
        box-shadow: 0 8px 16px rgba(59, 207, 145, 0.25);
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }
      button:active {
        transform: scale(0.97);
      }
      button:hover {
        background: var(--btn-hover);
      }

      /* Card result */
      .card {
        margin-top: 22px;
        width: min(92vw, 560px);
        background: var(--card);
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(16, 24, 40, 0.08),
          0 1px 4px rgba(16, 24, 40, 0.06);
        padding: 20px 18px;
        text-align: center;
        opacity: 0;
        transform: translateY(12px);
        transition: 0.35s ease;
      }
      .card.show {
        opacity: 1;
        transform: translateY(0);
      }

      .name {
        font-size: 20px;
        font-weight: 700;
        color: var(--text);
        letter-spacing: 0.8px;
        margin-bottom: 6px;
      }
      .secret {
        font-size: 16px;
        color: #2b2f36;
        letter-spacing: 0.6px;
      }

      /* Leaderboard mini */
      .board {
        margin-top: 14px;
        padding: 12px 12px 6px;
        background: #ffffffb3;
        border: 1px solid #eef1f6;
        border-radius: 16px;
      }
      .board-title {
        font-size: 12px;
        color: var(--muted);
        margin: 0 0 8px;
        letter-spacing: 0.6px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }
      .chips {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        justify-content: center;
      }
      .chip {
        font-size: 12px;
        font-weight: 600;
        letter-spacing: 0.5px;
        padding: 8px 10px;
        border-radius: 999px;
        color: #2f2f34;
        background: linear-gradient(180deg, #f7f9ff, #eef2ff);
        border: 1px solid #e0e6ff;
        box-shadow: 0 2px 6px rgba(124, 92, 255, 0.12);
      }
      .tools {
        margin-top: 8px;
        display: flex;
        gap: 8px;
        justify-content: center;
      }
      .ghost {
        background: #edf1ff;
        color: #4b4f57;
        box-shadow: none;
        border: 1px solid #dfe5ff;
      }
      .ghost:hover {
        background: #e2e7ff;
      }

      /* Fullscreen hint small */
      .hint {
        position: fixed;
        right: 12px;
        top: 12px;
        font-size: 12px;
        color: #596071;
        background: #ffffffc9;
        border: 1px solid #e8ecf5;
        padding: 6px 10px;
        border-radius: 999px;
        backdrop-filter: blur(6px);
      }

      @media (min-height: 760px) {
        .wrap {
          padding-top: 42px;
        }
      }
    </style>
  </head>
  <body>
    <!-- animated background -->
    <div class="bg-canvas" id="bg"></div>

    <div class="wrap">
      <header>
        <h1>üé≤ Cek Rahasia Kamu</h1>
        <p>
          ketik nama ‚ûú enter/cek ‚ûú hasil muncul ‚Ä¢ auto reset input ‚Ä¢ fullscreen
          on first click
        </p>
      </header>

      <form id="form" class="form" autocomplete="off">
        <input
          id="nama"
          type="text"
          placeholder="KETIK NAMA..."
          inputmode="text"
        />
        <button id="btn" type="submit" aria-label="Cek Rahasia">
          <span>CEK RAHASIA</span> üîç
        </button>
      </form>

      <section id="card" class="card" aria-live="polite">
        <div id="outName" class="name"></div>
        <div id="outSecret" class="secret"></div>

        <div class="board" id="board" style="display: none">
          <p class="board-title">SUDAH DIBONGKAR:</p>
          <div class="chips" id="chips"></div>
          <div class="tools">
            <button class="ghost" type="button" id="clearBoard">
              BERSIHKAN
            </button>
          </div>
        </div>
      </section>
    </div>

    <div class="hint" id="hint">Tip: tekan sekali untuk masuk fullscreen</div>

    <script>
      // ====== DATA RAHASIA (edit/isi sebanyak yang kamu mau) ======
      const RAHASIA = [
        // PERNAH
        "PERNAH COLI DI WC SEKOLAH",
        "PERNAH CIPOK CEPAT DI BELAKANG SEKOLAH",
        "PERNAH BASAH CELANA PAS JAM PELAJARAN",
        "PERNAH NGINTIP ORANG GANTI BAJU",
        "PERNAH SALAH KIRIM PESAN NAKAL",
        "PERNAH CIUMAN DI RUANG KELAS KOSONG",
        "PERNAH NONTON VIDEO ANEH DI WARNET",
        "PERNAH PEGANG TANGAN SAMBIL GEMETERAN",
        "PERNAH BAPER PAS DIPELUK TEMEN",
        "PERNAH MIMPI ANEH SAMA TEMEN SEBANGKU",
        "PERNAH NGEBAYANGIN PACAR TEMEN",
        "PERNAH STALKING CRUSH SAMPE KETIDURAN",
        "PERNAH MALU BANGET PAS KEKETAHUAN NONTON VIDEO",
        "PERNAH SENYUM-SENYUM LIAT FOTO CRUSH",
        "PERNAH BASAHIN CELANA GARA-GARA MIMPI",
        "PERNAH CIUM BANTAL SAMBIL BERKHAYAL",
        "PERNAH DEG-DEGAN KETEMU MERTUA MASA DEPAN",
        "PERNAH CIPOK DI BIOSKOP BANGKU BELAKANG",
        "PERNAH MALU KETAHUAN STALKING INSTAGRAM",
        "PERNAH SALAH SEBUT NAMA MANTAN",

        // DULU
        "DULU SUKA BAWA HP KE WC",
        "DULU SUKA SIMPAN FOTO NAKAL DI FOLDER TUGAS",
        "DULU PERNAH DOWNLOAD VIDEO ANEH DI WARNET",
        "DULU SUKA STALKING MANTAN SAMPE PAGI",
        "DULU NULIS NAMA GEBETAN DI BUKU",
        "DULU SUKA CIUM BAJU CRUSH",
        "DULU NGAKU PUNYA PACAR PADAHAL BOHONG",
        "DULU MIMPI BASAH WAKTU NGINEP TEMEN",
        "DULU SUKA BERKHAYAL WAKTU BELAJAR",
        "DULU PERNAH PEGANG HP TEMEN BUAT LIAT GALLERY",
        "DULU SUKA KETAWA-KETAWA SENDIRI MALAM-MALAM",
        "DULU NONTON VIDEO NAKAL DI KAMAR SEKOLAH",
        "DULU SUKA BAYANGIN JALAN SAMA CRUSH",
        "DULU CIUMAN DI BELAKANG GEDUNG SEKOLAH",
        "DULU SUKA JADIIN PACAR TEMEN BAHAN FANTASI",
        "DULU MALU-MALUIN SALAH KIRIM FOTO",
        "DULU SUKA LIAT TIKTOK SAMPE SANGE",
        "DULU SUKA NGINTIP LEWAT JENDELA RUMAH TETANGGA",
        "DULU PERNAH CIPOK CEPAT PAS MAIN PETAK UMPT",
        "DULU SUKA BACA CHAT PACAR TEMEN",

        // KETAHUAN / KETIDURAN
        "KETAHUAN DOWNLOAD VIDEO PANAS",
        "KETAHUAN STALKING INSTAGRAM SAMPE LIKE FOTO LAMA",
        "KETAHUAN KETAWA SENDIRI LIAT HP",
        "KETAHUAN NONTON VIDEO MALAM-MALAM",
        "KETAHUAN KETIDURAN PAS JAM PELAJARAN",
        "KETAHUAN SALAH KIRIM STIKER NAKAL",
        "KETAHUAN SIMPAN FOTO PACAR DI GALLERY RAHASIA",
        "KETAHUAN STALKING MANTAN PADAHAL SUDAH MOVE ON",
        "KETAHUAN NGELIATIN CRUSH TERUSAN",
        "KETAHUAN NGAKU PINTAR PADAHAL NYONTEK",
        "KETIDURAN SAMBIL PEGANG HP",
        "KETIDURAN HABIS NONTON VIDEO ANEH",
        "KETIDURAN WAKTU VC SAMA PACAR",
        "KETIDURAN SAMPE NGILER DI KELAS",
        "KETIDURAN WAKTU BIKIN TUGAS MALAM-MALAM",

        // AKSI + EFEK
        "CIUM BANTAL SAMBIL BAYANGIN CRUSH",
        "PEGANG TANGAN PACAR SAMBIL KERINGETAN",
        "NYEMBUNYIIN FOTO CRUSH DI GALLERY",
        "STALKING SOSMED SAMPE BATERAI HABIS",
        "NONTON TIKTOK SAMPE LUPA WAKTU",
        "KETAWA SAMPE CEPRIT DI CELANA",
        "BAPER LIAT PASANGAN ORANG",
        "CIUMAN CEPAT PAS LAMPU MERAH",
        "GIGIT BIBIR PAS KETEMU CRUSH",
        "SENYUM-SENYUM SENDIRI DI KAMAR",
        "CIUMAN DI MOTOR PAS MALAM MINGGU",
        "NYURI FOTO CRUSH DARI SOSMED",
        "PEGANG PUNGGUNG PACAR SAMBIL MALU",
        "NYARI NAMA MANTAN DI FACEBOOK",
        "BAPER DENGER SUARA PACAR DI TELPON",
        "KETAWA ANEH PAS NGELIAT CRUSH",
        "KENCAN DI WARUNG INDOMIE",
        "SENGAJA LEWAT DEPAN RUMAH CRUSH",
        "MINTA FOTO SELFIE PADAHAL BUAT BERKHAYAL",
        "MAIN GAME SAMBIL BERKHAYAL PACARAN",
      ];
      // ============================================================

      const form = document.getElementById("form");
      const input = document.getElementById("nama");
      const card = document.getElementById("card");
      const outName = document.getElementById("outName");
      const outSecret = document.getElementById("outSecret");
      const board = document.getElementById("board");
      const chips = document.getElementById("chips");
      const clearBoardBtn = document.getElementById("clearBoard");
      const hint = document.getElementById("hint");

      let firstSubmit = true;
      const historyNames = []; // simpan urutan terbaru
      const historySet = new Set(); // untuk unik

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        handleCheck();
      });

      clearBoardBtn.addEventListener("click", () => {
        historyNames.length = 0;
        historySet.clear();
        renderBoard();
      });

      function handleCheck() {
        const raw = input.value.trim();
        if (!raw) {
          input.focus();
          return;
        }

        const NAME = raw.toUpperCase();
        const SECRET = pickSecret().toUpperCase();

        outName.textContent = NAME;
        outSecret.textContent = SECRET;

        // show card with animation reset
        card.classList.remove("show");
        // force reflow to restart transition
        void card.offsetWidth;
        card.classList.add("show");

        // ====== Tambah suara otomatis ======
        const textToSpeak = `${NAME}, rahasiamu adalah ${SECRET}`;
        const utterance = new SpeechSynthesisUtterance(textToSpeak);
        utterance.lang = "id-ID"; // bahasa Indonesia
        speechSynthesis.speak(utterance);
        // ==================================

        // update leaderboard (unique, newest first, keep last 12)
        if (!historySet.has(NAME)) {
          historySet.add(NAME);
          historyNames.unshift(NAME);
          if (historyNames.length > 12) {
            const removed = historyNames.pop();
            historySet.delete(removed);
          }
          renderBoard();
        }

        // reset input for fast next name
        input.value = "";
        input.focus();

        // enter fullscreen on first user action
        if (firstSubmit) {
          openFullscreen();
          firstSubmit = false;
          hint.style.display = "none";
        }
      }

      function pickSecret() {
        return RAHASIA[Math.floor(Math.random() * RAHASIA.length)];
      }

      function renderBoard() {
        if (historyNames.length === 0) {
          board.style.display = "none";
          chips.innerHTML = "";
          return;
        }
        board.style.display = "block";
        chips.innerHTML = historyNames
          .map((n) => `<span class="chip">${n}</span>`)
          .join("");
      }

      // ====== Fullscreen helper ======
      function openFullscreen() {
        const el = document.documentElement;
        if (el.requestFullscreen) {
          el.requestFullscreen();
        } else if (el.webkitRequestFullscreen) {
          el.webkitRequestFullscreen();
        } // Safari
        else if (el.msRequestFullscreen) {
          el.msRequestFullscreen();
        }
      }

      // ====== Animated background squares ======
      const bg = document.getElementById("bg");
      const COLORS = [
        "rgba(124,92,255,0.18)", // purple
        "rgba(59,207,145,0.20)", // green
        "rgba(255,149,128,0.20)", // coral
        "rgba(97,175,254,0.18)", // blue
        "rgba(255,214,102,0.18)", // yellow
      ];

      function spawnSquares() {
        bg.innerHTML = "";
        const baseCount = window.innerWidth < 420 ? 14 : 22; // jumlah square
        for (let i = 0; i < baseCount; i++) {
          const s = document.createElement("div");
          s.className = "float-square";
          const size = rand(48, 140); // px
          const x = rand(-10, 100); // vw start
          const dx = rand(-20, 30); // vw drift
          const dur = rand(18, 36); // s
          const delay = rand(-dur, 0); // s negative for desync
          s.style.width = s.style.height = size + "px";
          s.style.background = COLORS[i % COLORS.length];
          s.style.left = x + "vw";
          s.style.setProperty("--x", x + "vw");
          s.style.setProperty("--dx", dx + "vw");
          s.style.setProperty("--dur", dur + "s");
          s.style.animationDelay = delay + "s";
          bg.appendChild(s);
        }
      }
      function rand(min, max) {
        return Math.random() * (max - min) + min;
      }

      // init
      spawnSquares();
      window.addEventListener("resize", debounce(spawnSquares, 400));

      function debounce(fn, ms) {
        let t;
        return (...args) => {
          clearTimeout(t);
          t = setTimeout(() => fn(...args), ms);
        };
      }

      // quality-of-life: autofocus input on load
      window.addEventListener("load", () => input.focus());
    </script>
  </body>
</html>
